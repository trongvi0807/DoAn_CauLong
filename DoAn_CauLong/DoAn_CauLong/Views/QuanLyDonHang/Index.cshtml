@model IEnumerable<DoAn_CauLong.Models.DonHang>
@{
    ViewBag.Title = "Quản lý Đơn hàng";
}

<div class="container" style="padding: 20px;">
    <h2>@ViewBag.Title</h2>
    <hr />

    <table class="table table-bordered table-striped">
        <thead>
            <tr>
                <th>Mã Đơn</th>
                <th>Người Đặt</th>
                <th>Ngày Đặt</th>
                <th>Địa chỉ</th>
                <th>Tổng tiền</th>
                <th>Trạng thái</th>
                <th></th>
            </tr>
        </thead>
        <tbody>
            @foreach (var order in Model)
            {
                <tr>
                    <td>#@order.MaDonHang</td>
                    <td>@order.KhachHang.HoTen</td>
                    <td>@(order.NgayDat?.ToString("dd/MM/yyyy HH:mm"))</td>
                    <td>@order.DiaChiGiaoHang</td>
                    <td>@(order.TongTien?.ToString("N0"))đ</td>
                    <td>
                        @if (order.TrangThai == "Chờ xác nhận")
                        {
                            <span class="label label-warning">@order.TrangThai</span>
                        }
                        else if (order.TrangThai == "Đang xử lý")
                        {
                            <span class="label label-info">@order.TrangThai</span>
                        }
                        else
                        {
                            <span class="label label-default">@order.TrangThai</span>
                        }
                    </td>
                    <td>
                        @Html.ActionLink("Xem Chi tiết", "Details", "QuanLyDonHang",
                            new { id = order.MaDonHang },
                            new { @class = "btn btn-primary btn-sm" })
                    </td>
                </tr>
            }
        </tbody>
    </table>
</div>